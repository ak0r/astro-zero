@layer components {

  /* ================================
    Badges, Buttons, Links
    ================================ */

  .badge {
    @apply inline-flex items-center py-1 px-2 text-xs text-content-3 font-mono rounded-full bg-surface-2/30 transition-colors duration-300;
  }

  .badge-outline {
    @apply inline-flex items-center py-1 px-2 text-xs text-content-3 font-mono rounded-full border border-ui transition-colors duration-300;
  }

  .badge:hover,
  .badge-outline:hover {
    @apply bg-surface-2/50;
  }

  .badge-primary {
    @apply inline-flex items-center py-1 px-2 text-xs text-content-3 font-mono rounded-full border border-primary/50 bg-primary/20 transition-colors duration-300;
  }

  .badge-primary:hover {
    @apply bg-primary/30;
  }


  .btn {
    @apply inline-flex items-center gap-2 p-2 rounded-md border border-ui transition-all duration-300;
    @apply hover:bg-surface-2;
  }

  .btn-ghost {
    @apply inline-flex items-center gap-2 p-2 rounded-md transition-all duration-300;
    @apply hover:bg-surface-2;
  }

  .btn-icon {
    @apply rounded-sm border gap-2 p-2 border-ui transition-colors hover:bg-surface-2 text-content-3 hover:text-content-2 cursor-pointer;
  }

  .link-animate {
    @apply relative before:absolute before:bottom-0.5 before:start-0 before:-z-1 before:w-full before:h-1 before:bg-primary-2 before:transition before:origin-left before:scale-x-0 group-hover:before:scale-x-100;
  }

  /* ================================
    Containers
    ================================ */

  .breakout {
    @apply sm:-mx-24;
  }

  .breakout-wide {
    @apply w-screen;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
  }


  /* ================================
    Cards
    ================================ */

  .card {
    @apply flex p-4 border border-ui shadow-2xs rounded-lg transition duration-300;
    @apply hover:shadow-md;
    @apply focus:outline-hidden focus:shadow-md;
  }

  .card-primary {
  @apply flex p-4 rounded-lg border border-primary/50 bg-primary/20 transition duration-300;
  @apply hover:bg-primary/30 hover:shadow-md;
  @apply focus:outline-hidden focus:shadow-md;
  }

  .card-ghost {
    @apply flex p-4 rounded-lg transition duration-300;
    @apply hover:bg-surface-2/50;
    @apply focus:outline-hidden focus:bg-surface-2/50;
  }

  .link-card {
    @apply p-2 rounded-lg;
  }

  .blog-card {
    @apply flex p-2 h-full border border-ui transition duration-300 rounded-xl;
    @apply hover:border-transparent hover:shadow-lg;
    @apply focus:outline-hidden focus:border-transparent focus:shadow-lg;
  }

  .gallery-card {
    @apply flex p-2 h-full border border-ui transition duration-300 rounded-xl;
    @apply hover:border-transparent hover:shadow-lg;
    @apply focus:outline-hidden focus:border-transparent focus:shadow-lg;
  }


  /* ================================
    Image Masonry Grid
    ================================ */

  .image-container {
    @apply my-8;
    }
  /* Image grid containers - override default image margins */
  .image-grid-masonry,
  .image-grid-single {
    @apply my-8; /* Container gets the standard vertical margin */
  }

  .image-grid-masonry .image-item {
    @apply block w-full;
  }

  .image-grid-single {
    @apply block;
  }

  .image-grid-single .image-item {
    @apply w-full mb-2;
  }

  /* Remove default image margins inside image grids */
  .image-grid-masonry img,
  .image-grid-single img {
    @apply my-0; /* Override the default img margin */
  }

  /* Captions */
  .image-caption-container p,
  .image-caption-container em {
    @apply text-content-3 text-sm mt-2;
  }

  .image-grid-masonry {
    display: flex !important;
    gap: 1rem !important;
  }

  /* Mobile: 2 columns */
  @media (max-width: 768px) {
    .image-grid-masonry {
      gap: 0.75rem !important;
    }
  }

  /* Very small phones: 1 column */
  @media (max-width: 480px) {
    .image-grid-masonry {
      flex-direction: column !important;
    }
    
    .image-grid-masonry > div {
      width: 100% !important;
    }
  }

}