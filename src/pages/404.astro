---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Container from "@/components/layout/Container.astro";
import Icon from "@/components/common/IconWrapper.astro";
import Breadcrumbs from '@/components/widgets/Breadcrumbs.astro';
import LinkWrapper from '@/components/common/LinkWrapper.astro';
import { getBreadcrumbsFromPath } from '@/utils/commonFunctions';
import { get404Content } from '@/utils/page-sections';
import PageHeader from '@/components/layout/PageHeader.astro';

// Load optional 404 content sections
const sections = await get404Content();

// Generate breadcrumbs for the page
const breadcrumbs = getBreadcrumbsFromPath('/404');
---

<BaseLayout>
  <Container class="py-4 sm:py-8">
    <PageHeader
      title="404"
      description="Page Not Found"
      breadcrumb={'/404'}
    />

    <div class="min-h-[20vh] flex flex-col items-center justify-center py-8 my-16 gap-6">
      <Icon name="file-off" size={60} class="text-content-3 shrink-0 mb-4" />
      {sections.message ? (
        <div class="animate max-w-2xl text-center">
          <sections.message.Content />
        </div>
      ) : (
        <div class="animate text-center">
          <p class="text-content-2 max-w-md mx-auto">
            The page you're looking for doesn't exist or has been moved.
          </p>
        </div>
      )}
    </div>

    <!-- ============================================================ -->
    <!-- SUGGESTIONS (Optional from 404-suggestions.md OR default) -->
    <!-- ============================================================ -->
    {sections.suggestions ? (

      <div class="animate max-w-2xl mx-auto mb-12">
        <sections.suggestions.Content />
      </div>
    ) : (
      <div class="animate not-prose max-w-2xl mx-auto mb-12 text-content-2">
        <h4 class="text-lg font-semibold mb-8 text-center">Here are some helpful links:</h4>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <LinkWrapper 
              href="/" 
              class="card"
          >
            <div class="flex flex-auto flex-col justify-center items-center p-4 md:p-5">
              <h3 class="text-lg font-medium"> Home </h3>
              <p class="mt-2 text-sm text-content-3">
                Go to homepage
              </p>
            </div>
          </LinkWrapper>
          <LinkWrapper 
            href="/posts" 
            class="card text-center"
          >
            <div class="flex flex-auto flex-col justify-center items-center p-4 md:p-5">
              <h3 class="text-lg font-medium"> Blog Posts </h3>
              <p class="mt-2 text-sm text-content-3">
                Browse all posts
              </p>
            </div>
          </LinkWrapper>
          
          <LinkWrapper 
            href="/galleries" 
            class="card text-center"
          >
            <div class="flex flex-auto flex-col justify-center items-center p-4 md:p-5">
              <h3 class="text-lg font-medium"> Galleries </h3>
              <p class="mt-2 text-sm text-content-3">
                View the galleries
              </p>
            </div>
          </LinkWrapper>
        </div>
      </div>
    )}

  </Container>
</BaseLayout>