---
type Props = {
  href: string;
  class?: string;
  external?: boolean;
  underline?: boolean;
};

const {
  href,
  class: className = '',
  external = false,
  underline = false,
  ...rest
} = Astro.props;

const isExternal = external || href.startsWith('http');

const underlineClass = underline ? 'underline underline-offset-[3px]' : '';

const combinedClass = [
  'transition-all duration-300 ease-in-out',
  underlineClass,
  className,
]
  .filter(Boolean)
  .join(' ');
---

<a
  href={href}
  class={combinedClass}
  target={isExternal ? '_blank' : undefined}
  rel={isExternal ? 'noopener noreferrer' : undefined}
  {...rest}
>
  <slot />
</a>
